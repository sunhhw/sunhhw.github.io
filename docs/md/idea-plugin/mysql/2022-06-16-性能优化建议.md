## 一、数据库基本设计规范

- 数据库和表的字符集统一使用 **utf8mb4**
  - 兼容性更好，统一字符集可以避免由于字符集转换产生的乱码，不同的字符集进行比较前需要进行转换会导致索引失效，而且utf8mb4可以存放**emoji**表情，而utf8不能

- 临时库表必须以 **tmp__**为前缀并以日期为后缀，备份表必须以 **bak_**为前缀并以日期 (时间戳) 为后缀
- 所有存储相同数据的列名和列类型必须一致（一般作为关联列，如果查询时关联列类型不一致会自动进行数据类型隐式转换，会造成列上的索引失效，导致查询效率降低）
- 禁止在数据库中存储图片，文件等大的二进制数据

## 二、数据库字段设计规范

- 对于非负型的数据(如自增ID,整型IP),优先使用无符号整型来存储，无符号相对于有符号可以多出一倍的空间

```mysql
SIGNED INT -2147483648~2147483647
UNSIGNED INT 0~4294967295
```

VARCHAR(N) 中的 N 代表的是字符数，而不是字节数，使用 UTF8 存储 255 个汉字 Varchar(255)=765 个字节。**过大的长度会消耗更多的内存。**

- 尽可能把所有字段设置成**not null**
  - 索引null字段需要额外的空间来保存，所以要占用更多的空间，进行比较和计算时要对null值做特别的处理
- 使用timestamp或datatime类型来存储时间
  - 禁止使用字符串存储类型，字符串占用更大的内存
  - 无法用日期函数进行计算
- 金额相关的数据使用decimal类型，不会丢失精度

## 三、数据库 SQL 开发规范

深度分页问题

隐式转换

